{"version":3,"file":"js/345.859cfc03.js","mappings":"qMACKA,MAAM,a,GACJA,MAAM,8B,GACTC,EAAAA,EAAAA,GAAuC,MAAnCD,MAAM,oBAAmB,SAAK,G,WACY,a,GAEvCA,MAAM,sB,GAETC,EAAAA,EAAAA,GAA2C,SAApCC,IAAI,YAAW,iBAAa,G,GAEhCF,MAAM,sB,GAETC,EAAAA,EAAAA,GAAqC,SAA9BC,IAAI,WAAU,YAAQ,G,GAE/BD,EAAAA,EAAAA,GAAoF,UAA5ED,MAAM,+BAA+BG,KAAK,SAASC,GAAG,YAAW,MAAE,G,0EAbjFC,EAAAA,EAAAA,IAgBM,MAhBN,EAgBM,EAfJJ,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbJK,GACAC,EAAAA,EAAAA,IAAqEC,EAAA,CAAxDC,GAAG,SAAST,MAAM,gBAA/B,C,kBAA8C,IAAS,M,OACvDC,EAAAA,EAAAA,GAUO,QAVDD,MAAM,aAAcU,SAAM,8BAAUC,EAAAA,OAAAA,EAAAA,SAAAA,IAAK,eAA/C,EACEV,EAAAA,EAAAA,GAGM,MAHN,EAGM,WAFJA,EAAAA,EAAAA,GAA+E,SAAxEE,KAAK,QAAQH,MAAM,e,qCAAwBY,EAAAA,KAAKC,SAAQC,GAAEV,GAAG,YAApE,iBAAkDQ,EAAAA,KAAKC,YACvDE,KAEFd,EAAAA,EAAAA,GAGM,MAHN,EAGM,WAFJA,EAAAA,EAAAA,GAAiF,SAA1EE,KAAK,WAAWH,MAAM,e,qCAAwBY,EAAAA,KAAKI,SAAQF,GAAEV,GAAG,WAAvE,iBAAqDQ,EAAAA,KAAKI,YAC1DC,IAEFC,GATF,O,CAeJ,OACEC,OACE,MAAO,CACLC,KAAM,CACJP,SAAU,GACVG,SAAU,IAGf,EACDK,QAAS,CACPC,QAEEC,KAAKC,MAAMC,KAAM,uDAA0CF,KAAKH,MAC7DM,MAAMC,IACLC,QAAQC,IAAIF,GAEZ,MAAM,MAAEG,EAAF,QAASC,GAAYJ,EAAIR,KAE/Ba,SAASC,OAAU,sBAAqBH,gBAAoB,IAAII,KAAKH,KAErER,KAAKY,QAAQC,KAAK,kBAAlB,IAEDC,OAAOC,IACNV,QAAQW,IAAID,GACZE,MAAM,iBACNjB,KAAKH,KAAKP,SAAW,GACrBU,KAAKH,KAAKJ,SAAW,EAArB,GAEN,I,UC3CJ,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://curry_planet/./src/views/LoginView.vue","webpack://curry_planet/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n<div class=\"container\">\n  <div class=\"row justify-content-center\">\n    <h1 class=\"text-center my-4\">Login</h1>\n    <router-link to=\"/admin\" class=\"link-primary\">Dashboard</router-link>\n    <form class=\"form col-5\" @submit.prevent=\"login\">\n      <div class=\"form-floating mb-3\">\n        <input type=\"email\" class=\"form-control\" v-model=\"user.username\" id=\"userName\">\n        <label for=\"userName\">Email address</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input type=\"password\" class=\"form-control\" v-model=\"user.password\" id=\"userPsw\">\n        <label for=\"userPaw\">Password</label>\n      </div>\n      <button class=\"btn btn-lg btn-primary w-100\" type=\"submit\" id=\"loginBtn\">登入</button>\n    </form>\n  </div>\n</div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      user: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    login () {\n      // 發送 api 到遠端並登入\n      this.$http.post(`${process.env.VUE_APP_API}/admin/signin`, this.user)\n        .then((res) => {\n          console.log(res)\n          // 取出 token\n          const { token, expired } = res.data\n          // token 寫入 cookie\n          document.cookie = `curryPlanetToken = ${token}; expires = ${new Date(expired)}`\n          // 轉到後台\n          this.$router.push('/admin/products')\n        })\n        .catch((err) => {\n          console.dir(err)\n          alert('登入資料有誤，請重新輸入！')\n          this.user.username = ''\n          this.user.password = ''\n        })\n    }\n  }\n}\n</script>\n","import { render } from \"./LoginView.vue?vue&type=template&id=5c6c4bc4\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/carol/Hex-Vue/curry_planet/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","id","_createElementBlock","_hoisted_3","_createVNode","_component_router_link","to","onSubmit","$options","$data","username","$event","_hoisted_6","password","_hoisted_8","_hoisted_9","data","user","methods","login","this","$http","post","then","res","console","log","token","expired","document","cookie","Date","$router","push","catch","err","dir","alert","__exports__","render"],"sourceRoot":""}