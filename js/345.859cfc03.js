"use strict";(self["webpackChunkcurry_planet"]=self["webpackChunkcurry_planet"]||[]).push([[345],{2345:function(e,s,r){r.r(s),r.d(s,{default:function(){return _}});var t=r(6252),n=r(9963);const o={class:"container"},a={class:"row justify-content-center"},u=(0,t._)("h1",{class:"text-center my-4"},"Login",-1),i=(0,t.Uk)("Dashboard"),l={class:"form-floating mb-3"},c=(0,t._)("label",{for:"userName"},"Email address",-1),d={class:"form-floating mb-3"},m=(0,t._)("label",{for:"userPaw"},"Password",-1),p=(0,t._)("button",{class:"btn btn-lg btn-primary w-100",type:"submit",id:"loginBtn"},"登入",-1);function f(e,s,r,f,h,w){const b=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",a,[u,(0,t.Wm)(b,{to:"/admin",class:"link-primary"},{default:(0,t.w5)((()=>[i])),_:1}),(0,t._)("form",{class:"form col-5",onSubmit:s[2]||(s[2]=(0,n.iM)(((...e)=>w.login&&w.login(...e)),["prevent"]))},[(0,t._)("div",l,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>h.user.username=e),id:"userName"},null,512),[[n.nr,h.user.username]]),c]),(0,t._)("div",d,[(0,t.wy)((0,t._)("input",{type:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>h.user.password=e),id:"userPsw"},null,512),[[n.nr,h.user.password]]),m]),p],32)])])}var h={data(){return{user:{username:"",password:""}}},methods:{login(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then((e=>{console.log(e);const{token:s,expired:r}=e.data;document.cookie=`curryPlanetToken = ${s}; expires = ${new Date(r)}`,this.$router.push("/admin/products")})).catch((e=>{console.dir(e),alert("登入資料有誤，請重新輸入！"),this.user.username="",this.user.password=""}))}}},w=r(3744);const b=(0,w.Z)(h,[["render",f]]);var _=b}}]);
//# sourceMappingURL=345.859cfc03.js.map